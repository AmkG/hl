(<bc>closure 0
  (<bc>check-vars 3)
  (<bc>spawn))
(<bc>global-set <common>spawn)

(<bc>closure 0
  (<bc>local 2)
  (<bc>int 1)
  (<bc>i<)
  (<bc>if
    (<bc>lit-t)
    (<bc>continue))
  (<bc>global <common>spawn)
  (<bc>local 1)
  (<bc>local 2)
  (<bc>k-closure 2
    (<bc>global f)
    (<bc>closure-ref 0)
    (<bc>closure-ref 1)
    (<bc>int 1)
    (<bc>i-)
    (<bc>apply 3))
  (<bc>k-closure 0
    (<bc>halt))
  (<bc>apply 3))
(<bc>global-set f)
(<bc>k-closure 0
  (<bc>local 1)
  (<bc>halt))
(<bc>int 3)
(<bc>apply 3)

;^t$
